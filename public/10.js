webpackJsonp([10],{"+O4B":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-5 attendance-head"},[a("div",{staticClass:"mb-5 row align-items-center"},[a("div",{staticClass:"col-12 title-con"},[a("span",{staticClass:"title"},[e._v(e._s(e._f("capitalize")(e.title)))]),e._v(" "),e.to?a("div",{staticClass:"row justify-content-end"},[a("router-link",{staticClass:"text-link mt-3",attrs:{to:e.to}},[e._v(e._s(e.buttonTitle))])],1):e._e()])])])},staticRenderFns:[]}},EJ7O:function(e,t,a){var r=a("VU/8")(a("oKx2"),a("+O4B"),!1,null,null,null);e.exports=r.exports},GBQg:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"",""])},GqYo:function(e,t,a){var r=a("VU/8")(a("MmHb"),a("iAiK"),!1,function(e){a("SBKC")},"data-v-1f6e6fa2",null);e.exports=r.exports},La9N:function(e,t,a){var r=a("VU/8")(a("WvS4"),a("a2MU"),!1,null,null,null);e.exports=r.exports},MmHb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("nv24");t.default={props:{options:{type:Array,default:function(){return[]}},caption:{type:[String,Number],default:null},value:{type:[String,Number],default:null},nameValue:{type:[String,Number],default:null}},data:function(){return{open:!1,selectIndex:0,displayText:"",search:""}},computed:{filteredOptions:function(){var e=this,t=new RegExp(this.search,"i");return this.options.filter(function(a){return t.test(a.id)||t.test(a[e.caption])})}},watch:{value:function(e){e&&this.select(this.options.find(function(t){return t.id===e}))}},methods:{onDownKey:function(){this.filteredOptions.length-1>this.selectIndex&&this.selectIndex++},onUpKey:function(){this.selectIndex>0&&this.selectIndex--},onEnterKey:function(){var e=this.filteredOptions[this.selectIndex];e&&this.select(e)},select:function(e){this.displayText=e[this.caption],this.$emit("input",e.id),this.$refs.search.blur()},toggle:function(e){e.target!==this.$refs.toggle&&e.target!==this.$refs.search&&e.target!==this.$refs[this.caption]||(this.open?e.target!==this.$refs.search&&e.target!==this.$refs[this.caption]&&this.$refs.search.blur():this.$refs.search.focus())},onFocus:function(){this.open=!0},onBlur:function(){this.search="",this.open=!1},onEscape:function(){this.$refs.search.blur()}},created:function(){var e=this;r.EventBus.$on("clearTypeAhead",function(){return e.displayText=null})}}},SBKC:function(e,t,a){var r=a("GBQg");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("7948959c",r,!0,{})},WvS4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(a("I3G/")),n=a("ic49"),s=c(a("K23+")),o=a("p/p5"),i=c(a("GqYo")),l=a("nv24"),u=c(a("EJ7O"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Typeahead:i.default,CustomHeader:u.default},data:function(){return{users:null,columns:{},show:!1,form:{},error:{},issuer:{},autoPenalty:!0,autoReason:!0,cautions:null,value:null}},beforeRouteEnter:function(e,t,a){(0,o.get)("/api/caution/create").then(function(e){var t=e.data;return a(function(e){return e.prepareForm(t)})}).catch(function(){return a(function(){return s.default.setError("Error Preparing form")})})},methods:{onSave:function(){var e=this;this.$validator.validateAll().then(function(t){t?e.$network()?(e.$LIPS(!0),e.error={},(0,o.post)("/api/caution",{form:e.form}).then(function(t){var a=t.data;a.saved&&((0,n.log)("CautionSent",""+e.users.find(function(t){return t.id===e.form.user_id}).staff_id),e.prepareForm(a),s.default.setSuccess("Caution sent!",5e3))}).catch(function(t){422===(t=t.response).status&&(e.error=t.data.errors?t.data.errors:t.data,e.$networkErr("unique"))}).finally(function(){e.$LIPS(!1),e.$scrollToTop()})):e.$networkErr():e.$networkErr("form")})},prepareForm:function(e){var t=e.form,a=e.users,n=e.cautionsList;r.default.set(this.$data,"form",t),r.default.set(this.$data,"users",a),r.default.set(this.$data,"cautions",n),this.issuer=a.find(function(e){return e.id===t.issuer_id}),this.show=!0,this.$LIPS(!1),this.value=null,l.EventBus.$emit("clearTypeAhead")}},watch:{form:{handler:function(e){var t=this.cautions.find(function(t){return t.reason===e.reason});r.default.set(this.$data.form,"penalty",t?t.penalty:"")},deep:!0}}}},a2MU:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"fade"}},[a("div",{staticClass:"pt-md-3 pt-2 attendance-view",attrs:{id:"index"}},[a("custom-header",{attrs:{to:".",title:"Send Caution","button-title":"view cautions!"}}),e._v(" "),a("div",{staticClass:"attendance-body"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.onSave(t)}}},[a("div",{staticClass:"p-5 row bg-white shadow-sm card-radius"},[a("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[a("label",[e._v("Employee Name")]),e._v(" "),a("typeahead",{attrs:{options:e.users,value:e.value,caption:"full_name"},model:{value:e.form.user_id,callback:function(t){e.$set(e.form,"user_id",t)},expression:"form.user_id"}})],1),e._v(" "),a("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[a("label",[e._v("Issued by")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.issuer_id,expression:"form.issuer_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-validate-on":"blur",disabled:"",name:"issued_by"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"issuer_id",t.target.multiple?a:a[0])}}},[a("option",{domProps:{value:e.issuer.id}},[e._v(e._s(e.issuer.full_name))])])]),e._v(" "),a("div",{staticClass:"spaceAfter"}),e._v(" "),a("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[a("div",{staticClass:"form-check pl-3 ml-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.autoReason,expression:"autoReason"}],staticClass:"form-check-input",attrs:{id:"reason",type:"checkbox",value:"true"},domProps:{checked:Array.isArray(e.autoReason)?e._i(e.autoReason,"true")>-1:e.autoReason},on:{change:function(t){var a=e.autoReason,r=t.target,n=!!r.checked;if(Array.isArray(a)){var s=e._i(a,"true");r.checked?s<0&&(e.autoReason=a.concat(["true"])):s>-1&&(e.autoReason=a.slice(0,s).concat(a.slice(s+1)))}else e.autoReason=n}}}),e._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"reason"}},[e._v("Select Reason From List")])]),e._v(" "),e.autoReason?a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.reason,expression:"form.reason"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-validate-on":"blur",name:"reason",disabled:!e.autoReason},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"reason",t.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[e._v("-- select reason --")]),e._v(" "),e._l(e.cautions,function(t){var r=t.reason;return a("option",{domProps:{value:r}},[e._v("\n                                "+e._s(e._f("capitalize")(r))+"\n                            ")])})],2):a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.reason,expression:"form.reason"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{disabled:e.autoReason,name:"reason",rows:"2"},domProps:{value:e.form.reason},on:{input:function(t){t.target.composing||e.$set(e.form,"reason",t.target.value)}}}),e._v(" "),e.errors.first("reason")?a("small",[e._v(e._s(e.errors.first("reason")))]):e._e()]),e._v(" "),a("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[a("div",{staticClass:"form-check pl-3 ml-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.autoPenalty,expression:"autoPenalty"}],staticClass:"form-check-input",attrs:{id:"penalty",type:"checkbox",value:"true"},domProps:{checked:Array.isArray(e.autoPenalty)?e._i(e.autoPenalty,"true")>-1:e.autoPenalty},on:{change:function(t){var a=e.autoPenalty,r=t.target,n=!!r.checked;if(Array.isArray(a)){var s=e._i(a,"true");r.checked?s<0&&(e.autoPenalty=a.concat(["true"])):s>-1&&(e.autoPenalty=a.slice(0,s).concat(a.slice(s+1)))}else e.autoPenalty=n}}}),e._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"penalty"}},[e._v("Add Penalty Automatically")])]),e._v(" "),e.autoPenalty?a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.penalty,expression:"form.penalty"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{disabled:e.autoPenalty,name:"penalty"},domProps:{value:e.form.penalty},on:{input:function(t){t.target.composing||e.$set(e.form,"penalty",t.target.value)}}}):a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.penalty,expression:"form.penalty"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{disabled:e.autoPenalty,rows:"2",name:"penalty"},domProps:{value:e.form.penalty},on:{input:function(t){t.target.composing||e.$set(e.form,"penalty",t.target.value)}}}),e._v(" "),e.errors.first("penalty")?a("small",[e._v(e._s(e.errors.first("penalty")))]):e._e()]),e._v(" "),a("div",{staticClass:"spaceBefore"}),e._v(" "),a("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[a("label",[e._v("Date")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date,expression:"form.date"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{"data-vv-as":"date",name:"date",type:"date"},domProps:{value:e.form.date},on:{input:function(t){t.target.composing||e.$set(e.form,"date",t.target.value)}}}),e._v(" "),e.errors.first("date")?a("small",[e._v(e._s(e.errors.first("date")))]):e._e()])]),e._v(" "),a("div",{staticClass:"mb-5 px-0 row align-items-center"},[a("div",{staticClass:"w-100 mb-4 mt-5 mx-0 hr"}),e._v(" "),a("div",{staticClass:"clearfix d-flex justify-content-end w-100"},[a("button",{staticClass:"btn bg-default",attrs:{disabled:e.$isProcessing,type:"submit"}},[e._v("\n                            Submit Caution "),a("i",{staticClass:"far fa-paper-plane ml-1"})])])])])])],1)])},staticRenderFns:[]}},iAiK:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"position-relative",class:e.open?"typeahead typeahead__open":"typeahead"},[a("div",{ref:"toggle",staticClass:"typeahead__toggle",on:{mousedown:function(t){return t.preventDefault(),e.toggle(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],ref:"search",staticClass:"typeahead__search",attrs:{type:"text",value:"null"},domProps:{value:e.search},on:{blur:e.onBlur,focus:e.onFocus,keydown:[function(t){return"button"in t||!e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?e.onDownKey(t):null},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.onEnterKey(t):null},function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.onEscape(t):null},function(t){return"button"in t||!e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?e.onUpKey(t):null}],input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),a("span",{ref:"text",staticClass:"typeahead__text"},[e._v("\n        "+e._s(e.displayText)+"\n     ")])]),e._v(" "),e.open?a("ul",{staticClass:"typeahead__list"},e._l(e.filteredOptions,function(t,r){return a("li",{key:r,staticClass:"typeahead__item"},[a("a",{staticClass:"typeahead__link",class:[e.selectIndex===r?"typeahead__active":""],on:{mousedown:function(a){a.preventDefault(),e.select(t)}}},[e._v("\n                "+e._s(t[e.caption])+"\n            ")])])})):e._e()])},staticRenderFns:[]}},ic49:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(e,t){e=e.replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()}),(0,r.post)("/api/log",{action:e,description:t})};var r=a("p/p5")},nv24:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventBus=void 0;var r,n=a("I3G/"),s=(r=n)&&r.__esModule?r:{default:r};t.EventBus=new s.default},oKx2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{title:"",buttonTitle:null,to:null}}},rjj0:function(e,t,a){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n=a("tTVk"),s={},o=r&&(document.head||document.getElementsByTagName("head")[0]),i=null,l=0,u=!1,c=function(){},d=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(e){for(var t=0;t<e.length;t++){var a=e[t],r=s[a.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](a.parts[n]);for(;n<a.parts.length;n++)r.parts.push(h(a.parts[n]));r.parts.length>a.parts.length&&(r.parts.length=a.parts.length)}else{var o=[];for(n=0;n<a.parts.length;n++)o.push(h(a.parts[n]));s[a.id]={id:a.id,refs:1,parts:o}}}}function m(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function h(e){var t,a,r=document.querySelector("style["+f+'~="'+e.id+'"]');if(r){if(u)return c;r.parentNode.removeChild(r)}if(p){var n=l++;r=i||(i=m()),t=g.bind(null,r,n,!1),a=g.bind(null,r,n,!0)}else r=m(),t=function(e,t){var a=t.css,r=t.media,n=t.sourceMap;r&&e.setAttribute("media",r);d.ssrId&&e.setAttribute(f,t.id);n&&(a+="\n/*# sourceURL="+n.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");if(e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}.bind(null,r),a=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else a()}}e.exports=function(e,t,a,r){u=a,d=r||{};var o=n(e,t);return v(o),function(t){for(var a=[],r=0;r<o.length;r++){var i=o[r];(l=s[i.id]).refs--,a.push(l)}t?v(o=n(e,t)):o=[];for(r=0;r<a.length;r++){var l;if(0===(l=a[r]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete s[l.id]}}}};var _,y=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function g(e,t,a,r){var n=a?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,n);else{var s=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}},tTVk:function(e,t){e.exports=function(e,t){for(var a=[],r={},n=0;n<t.length;n++){var s=t[n],o=s[0],i={id:e+":"+n,css:s[1],media:s[2],sourceMap:s[3]};r[o]?r[o].parts.push(i):a.push(r[o]={id:o,parts:[i]})}return a}}});