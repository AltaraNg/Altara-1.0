webpackJsonp([18],{"2Q7A":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.log=function(e,a){e=e.replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()}),(0,r.post)("/api/log",{action:e,description:a})};var r=t("uD8u")},CiRh:function(e,a,t){var r=t("VU/8")(t("PJFR"),t("jPw7"),!1,null,null,null);e.exports=r.exports},DBfC:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r,s=t("2Q7A"),o=t("TOoT"),n=(r=o)&&r.__esModule?r:{default:r},i=t("uD8u");a.default={props:{action:"",branchToUpdate:{default:""}},data:function(){return{form:{},banks:{},error:{},states:{}}},methods:{ifCreate:function(e){return"create"===e},ifUpdate:function(e){return"update"===e},prepareForm:function(e){this.error={},this.errors.clear(),this.form=e.form,this.banks=e.banks,this.states=e.states},processBranch:function(){var e=this;this.$validator.validateAll().then(function(a){if(a)if(e.$network()){e.$LIPS(!0),e.error={};var t="/api/branch",r=e.$options.filters.capitalize(e.action);"update"===e.action&&(t="/api/branch/"+e.branchToUpdate.id),(0,i.post)(t,e.form).then(function(a){(0,s.log)("Branch"+r,""+e.form.employee_id),e.ifCreate(e.action)&&e.prepareForm(a.data.prepareForm),e.ifUpdate(e.action)&&e.$emit("done"),n.default.setSuccess("Branch "+e.action+"d successfully!",2e4)}).catch(function(a){422===(a=a.response).status&&(e.error=a.data.errors?a.data.errors:a.data,e.$networkErr("unique"))}).finally(function(){e.$scrollToTop(),e.$LIPS(!1)})}else e.$networkErr();else e.$networkErr("form")})}},created:function(){var e=this;(0,i.get)("/api/branch/create").then(function(a){return e.prepareForm(a.data)})},watch:{branchToUpdate:function(e){this.form=e,this.$LIPS(!1)}}}},PJFR:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r,s=t("zfYZ"),o=(r=s)&&r.__esModule?r:{default:r};a.default={components:{BranchForm:o.default}}},jPw7:function(e,a){e.exports={render:function(){var e=this.$createElement,a=this._self._c||e;return a("transition",{attrs:{name:"fade"}},[a("div",{staticClass:"pt-md-3 pt-2",attrs:{id:"employeeEdit"}},[a("div",{staticClass:"card"},[a("ul",{staticClass:"nav nav-tabs justify-content-center bg-default"},[a("h6",[this._v("Create Branch")])]),this._v(" "),a("div",{staticClass:"card-body pl-4 pr-4"},[a("branch-form",{attrs:{action:"create"}})],1)])])])},staticRenderFns:[]}},"nOX/":function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("form",{on:{submit:function(a){return a.preventDefault(),e.processBranch(a)}}},[t("h5",[e._v("Branch Details")]),e._v(" "),t("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[t("label",[e._v("Branch Name")]),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":e.error.name},attrs:{type:"text",placeholder:"branch name",name:"branch_name","data-vv-as":"branch name"},domProps:{value:e.form.name},on:{input:function(a){a.target.composing||e.$set(e.form,"name",a.target.value)}}}),e._v(" "),e.errors.first("branch_name")?t("small",[e._v(e._s(e.errors.first("branch_name")))]):e._e(),e._v(" "),e.error.name?t("small",[e._v(e._s(e.error.name[0]))]):e._e()]),e._v(" "),t("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[t("label",[e._v("State")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.state_id,expression:"form.state_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{name:"state","data-vv-validate-on":"blur"},on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"state_id",a.target.multiple?t:t[0])}}},[t("option",{attrs:{value:"",selected:""}},[e._v("select state")]),e._v(" "),e._l(e.states,function(a){return t("option",{domProps:{value:a.id}},[e._v(e._s(e._f("capitalize")(a.name)))])})],2),e._v(" "),e.errors.first("state")?t("small",[e._v(e._s(e.errors.first("state")))]):e._e()]),e._v(" "),t("div",{staticClass:"spaceBetween  mb-md-2 mb-0"}),e._v(" "),t("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[t("label",[e._v("Phone (English)")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phone_english,expression:"form.phone_english"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",attrs:{type:"tel",placeholder:"081xxxxxxxx",name:"phone_english","data-vv-as":"phone english"},domProps:{value:e.form.phone_english},on:{input:function(a){a.target.composing||e.$set(e.form,"phone_english",a.target.value)}}}),e._v(" "),e.errors.first("phone_english")?t("small",[e._v(e._s(e.errors.first("phone_english")))]):e._e()]),e._v(" "),t("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[t("label",[e._v("Phone (Yoruba)")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phone_yoruba,expression:"form.phone_yoruba"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",attrs:{type:"tel",placeholder:"081xxxxxxxx",name:"phone_yoruba","data-vv-as":"phone yoruba"},domProps:{value:e.form.phone_yoruba},on:{input:function(a){a.target.composing||e.$set(e.form,"phone_yoruba",a.target.value)}}}),e._v(" "),e.errors.first("phone_yoruba")?t("small",[e._v(e._s(e.errors.first("phone_yoruba")))]):e._e()]),e._v(" "),t("div",{staticClass:"spaceBetween  mb-md-2 mb-0"}),e._v(" "),t("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[t("label",{staticClass:"w-100 float-left pl-1"},[e._v("Status")]),e._v(" "),t("div",{staticClass:"radio pl-1 w-50 pr-3 float-left"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.status,expression:"form.status"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"radio",name:"status",id:"active",value:"active"},domProps:{checked:e._q(e.form.status,"active")},on:{change:function(a){e.$set(e.form,"status","active")}}}),e._v(" "),t("label",{attrs:{for:"active"}},[e._v("Active")])]),e._v(" "),t("div",{staticClass:"radio pl-1 w-50 pr-3 float-left"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.status,expression:"form.status"}],attrs:{type:"radio",name:"status",id:"passive",value:"passive"},domProps:{checked:e._q(e.form.status,"passive")},on:{change:function(a){e.$set(e.form,"status","passive")}}}),e._v(" "),t("label",{attrs:{for:"passive"}},[e._v("Passive")])]),e._v(" "),e.errors.first("status")?t("small",[e._v(e._s(e.errors.first("status")))]):e._e()]),e._v(" "),t("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[t("label",[e._v("Describe Location")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"},{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],staticClass:"form-control w-100",attrs:{placeholder:"address description",name:"description",rows:"1"},domProps:{value:e.form.description},on:{input:function(a){a.target.composing||e.$set(e.form,"description",a.target.value)}}}),e._v(" "),e.errors.first("description")?t("small",[e._v(e._s(e.errors.first("description")))]):e._e()]),e._v(" "),t("div",{staticClass:"spaceAfter"}),e._v(" "),t("h5",[e._v("Account Details")]),e._v(" "),t("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[t("label",[e._v("Email")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":e.error.email},attrs:{type:"email",placeholder:"name@example.com",name:"email"},domProps:{value:e.form.email},on:{input:function(a){a.target.composing||e.$set(e.form,"email",a.target.value)}}}),e._v(" "),e.errors.first("email")?t("small",[e._v(e._s(e.errors.first("email")))]):e._e(),e._v(" "),e.error.email?t("small",[e._v(e._s(e.error.email[0]))]):e._e()]),e._v(" "),t("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[t("label",[e._v("Bank")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.bank,expression:"form.bank"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{name:"bank","data-vv-validate-on":"blur"},on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"bank",a.target.multiple?t:t[0])}}},[t("option",{attrs:{value:"",selected:""}},[e._v("select bank")]),e._v(" "),e._l(e.banks,function(a){return t("option",{domProps:{value:a.id}},[e._v(e._s(e._f("capitalize")(a.name)))])})],2),e._v(" "),e.errors.first("bank")?t("small",[e._v(e._s(e.errors.first("bank")))]):e._e()]),e._v(" "),t("div",{staticClass:"spaceBetween  mb-md-2 mb-0"}),e._v(" "),t("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[t("label",[e._v("Account Name")]),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.form.account_name,expression:"form.account_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"branch name",name:"account_name","data-vv-as":"account name"},domProps:{value:e.form.account_name},on:{input:function(a){a.target.composing||e.$set(e.form,"account_name",a.target.value)}}}),e._v(" "),e.errors.first("account_name")?t("small",[e._v(e._s(e.errors.first("account_name")))]):e._e()]),e._v(" "),t("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[t("label",[e._v("Account Number")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.account_number,expression:"form.account_number"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:10|min:10",expression:"'required|numeric|max:10|min:10'"}],staticClass:"form-control",class:{"is-invalid":e.error.account_number},attrs:{type:"tel",placeholder:"01xxxxxxxx",name:"account_number","data-vv-as":"account number"},domProps:{value:e.form.account_number},on:{input:function(a){a.target.composing||e.$set(e.form,"account_number",a.target.value)}}}),e._v(" "),e.errors.first("account_number")?t("small",[e._v(e._s(e.errors.first("account_number")))]):e._e(),e._v(" "),e.error.account_number?t("small",[e._v(e._s(e.error.account_number[0]))]):e._e()]),e._v(" "),t("hr",{staticClass:"style-two"}),e._v(" "),t("div",{staticClass:"col-sm-12 ml-auto mr-auto mt-md-2 mt-0 px-md-3 px-1 mb-3 float-right"},[t("button",{staticClass:"btn btn-block btn-lg bg-default",attrs:{type:"submit",disabled:e.$isProcessing}},[e._v("\n            "+e._s(e._f("capitalize")(e.action))+" Branch "),t("i",{staticClass:"far fa-paper-plane ml-1"})])])])},staticRenderFns:[]}},zfYZ:function(e,a,t){var r=t("VU/8")(t("DBfC"),t("nOX/"),!1,null,null,null);e.exports=r.exports}});