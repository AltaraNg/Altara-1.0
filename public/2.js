webpackJsonp([2],{"2Q7A":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(e,t){e=e.replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()}),(0,a.post)("/api/log",{action:e,description:t})};var a=r("uD8u")},"6Gnn":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(r("Xxa5")),o=u(r("Bph5")),n=r("2Q7A"),i=u(r("TOoT")),s=r("uD8u"),l=r("qqQK"),m=u(r("KUZS"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return{create:"user/create",edit:"user/"+e.params.id+"/edit"}[e.meta.mode]}t.default={components:{ImageUpload:m.default},data:function(){return{mode:null,show:!1,store:"/api/user",method:"POST",form:{},error:{},roles:{},branches:{},password:"",countries:["nigeria"],gender:["male","female"],categories:{},textDetails:{phone:"",loginPassword:"",loginID:""},statuses:["married","single","divorced","complicated"],qualifications:["NCE","HND","OND","bachelors","masters","doctorate"]}},beforeRouteEnter:function(e,t,r){(0,s.get)("/api/"+c(e)).then(function(e){r(function(t){return t.prepareForm(e.data)})})},beforeRouteUpdate:function(e,t,r){var a=this;this.show=!1,(0,s.get)(c(e)).then(function(e){a.prepareForm(e.data),r()})},methods:{done:function(){this.$router.push("/hrm/employee")},prepareForm:function(){var e,t=(e=a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$prepareStates();case 2:this.mode=this.$route.meta.mode,this.error={},this.errors.clear(),this.form=t.form,this.roles=t.roles,this.branches=t.branches,this.categories=t.categories,"edit"===this.$route.meta.mode&&(this.store="/api/user/"+this.$route.params.id,this.method="POST"),this.show=!0;case 11:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function a(o,n){try{var i=t[o](n),s=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})});return function(e){return t.apply(this,arguments)}}(),onSave:function(){var e=this;this.$validator.validateAll().then(function(t){if(t)if(e.$network()){e.$LIPS(!0),e.error={};var r=(0,l.toMulipartedForm)(e.form,"edit");(0,s.byMethod)(e.method,e.store,r).then(function(t){t.data.success&&(e.textDetails.loginID=String(t.data.staff_id),e.textDetails.phone=String(parseInt(e.form.phone_number)),e.textDetails.loginPassword=e.password=t.data.password,o.default.welcome(e.textDetails)),(0,n.log)("Staff "+e.mode,String(t.data.staff_id)),i.default.setSuccess("edit"===e.mode?"Staff "+e.mode+"d successfully":"Staff "+e.mode+"d with ID "+t.data.staff_id+". Login details has been sent via SMS to the employee!",2e4),e.done()}).catch(function(t){422===(t=t.response).status&&(e.error=t.data.errors?t.data.errors:t.data,e.$networkErr("unique"))}).finally(function(){e.$scrollToTop(),e.$LIPS(!1)})}else e.$networkErr();else e.$networkErr("form")})},viewCV:function(e){window.open("https://s3.eu-west-2.amazonaws.com/altara-one/"+e,"_blank")},editCV:function(){this.form.cv_url=""}}}},APzg:function(e,t,r){var a=r("VU/8")(r("nT0B"),r("RQTH"),!1,null,null,null);e.exports=a.exports},Bph5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("uD8u");t.default={message:"",welcome:function(e){this.message="Welcome to Altara credit. Please secure your login details. Staff ID: "+e.loginID+", password: "+e.loginPassword,this.send(e)},customerReg:function(e){this.message="Dear "+e.first_name+" "+e.last_name+", Welcome to Altara Credit Limited, You are hereby invited to our showroom at "+e.branch.description+" to learn more about our offerings. Pick up products now and pay later. We look forward to seeing you. For more info contact: "+e.branch.phone_yoruba+". Your customer id is: "+e.id,this.send({phone:e.telephone.substr(1)})},passwordReset:function(e){this.message="Password reset successful! if your did not request for a new password kindly report back immediately, your staff ID is "+e.staff_id+", new password: "+e.password,this.send(e)},dvaMessage:function(e){this.message=e.message,this.send(e)},send:function(e){(0,a.get)("/api/message/create?to=234"+e.phone+"&message="+this.message).then(function(e){1===JSON.parse(e.data).messages[0].status.groupId&&console.log("sms sent successfully")})}}},KUZS:function(e,t,r){var a=r("VU/8")(r("Wk+m"),r("xosg"),!1,null,null,null);e.exports=a.exports},PIaQ:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"pt-md-3 pt-2",attrs:{id:"employeeRegister"}},[r("div",{staticClass:"card"},[r("ul",{staticClass:"nav nav-tabs justify-content-center bg-default"},[r("h6",[e._v(e._s(e.mode)+" Staff")])]),e._v(" "),r("div",{staticClass:"card-body pl-4 pr-4"},[e.show?r("form",{on:{submit:function(t){return t.preventDefault(),e.onSave(t)}}},[r("div",{staticClass:"clearfix"},[r("h5",[e._v("Employee Personal Details")]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.full_name,expression:"form.full_name"},{name:"validate",rawName:"v-validate",value:"required|max:100",expression:"'required|max:100'"}],staticClass:"form-control",attrs:{name:"name",placeholder:"employee full name",type:"text"},domProps:{value:e.form.full_name},on:{input:function(t){t.target.composing||e.$set(e.form,"full_name",t.target.value)}}}),e._v(" "),e.errors.first("name")?r("small",[e._v(e._s(e.errors.first("name")))]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Phone Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phone_number,expression:"form.phone_number"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",class:{"is-invalid":e.error.phone_number},attrs:{"data-vv-as":"phone number",name:"phone_number",placeholder:"081xxxxxxxx",type:"tel"},domProps:{value:e.form.phone_number},on:{input:function(t){t.target.composing||e.$set(e.form,"phone_number",t.target.value)}}}),e._v(" "),e.errors.first("phone_number")?r("small",[e._v("\n                        "+e._s(e.errors.first("phone_number"))+"\n                     ")]):e._e(),e._v(" "),e.error.phone_number?r("small",[e._v("\n                        "+e._s(e.error.phone_number[0])+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween  mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Marital Status")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.status,expression:"form.status"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-validate-on":"blur",name:"status"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"status",t.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("select status")]),e._v(" "),e._l(e.statuses,function(t){return r("option",{domProps:{value:t}},[e._v("\n                           "+e._s(e._f("capitalize")(t))+"\n                        ")])})],2),e._v(" "),e.errors.first("status")?r("small",[e._v("\n                        "+e._s(e.errors.first("status"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Nationality")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.nationality,expression:"form.nationality"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-validate-on":"blur",name:"nationality"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"nationality",t.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("select nationality")]),e._v(" "),e._l(e.countries,function(t){return r("option",{domProps:{value:t}},[e._v("\n                           "+e._s(e._f("capitalize")(t))+"\n                        ")])})],2),e._v(" "),e.errors.first("nationality")?r("small",[e._v("\n                        "+e._s(e.errors.first("nationality"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween  mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Date of Birth")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_of_birth,expression:"form.date_of_birth"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{"data-vv-as":"date of birth",name:"date_of_birth",type:"date"},domProps:{value:e.form.date_of_birth},on:{input:function(t){t.target.composing||e.$set(e.form,"date_of_birth",t.target.value)}}}),e._v(" "),e.errors.first("date_of_birth")?r("small",[e._v(e._s(e.errors.first("date_of_birth")))]):e._e(),e._v(" "),e.error.date_of_birth?r("small",[e._v(e._s(e.error.date_of_birth[0]))]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Email")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"},{name:"validate",rawName:"v-validate",value:"required|email|min:1",expression:"'required|email|min:1'"}],staticClass:"form-control",class:{"is-invalid":e.error.email},attrs:{name:"email",placeholder:"name@example.com",type:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e._v(" "),e.errors.first("email")?r("small",[e._v("\n                        "+e._s(e.errors.first("email"))+"\n                     ")]):e._e(),e._v(" "),e.error.email?r("small",[e._v("\n                        "+e._s(e.error.email[0])+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween  mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Role in the company")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.role_id,expression:"form.role_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-name":"role","data-vv-validate-on":"blur",name:"role"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"role_id",t.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("select role")]),e._v(" "),e._l(e.roles,function(t){return r("option",{domProps:{value:t.id}},[e._v("\n                           "+e._s(e._f("capitalize")(t.name))+"\n                        ")])})],2),e._v(" "),e.errors.first("role")?r("small",[e._v("\n                        "+e._s(e.errors.first("role"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Highest Qualification")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.highest_qualification,expression:"form.highest_qualification"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-name":"qualification","data-vv-validate-on":"blur",name:"qualification"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"highest_qualification",t.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("select qualification")]),e._v(" "),e._l(e.qualifications,function(t){return r("option",{domProps:{value:t}},[e._v("\n                           "+e._s(e._f("capitalize")(t))+"\n                        ")])})],2),e._v(" "),e.errors.has("qualification")?r("small",[e._v("\n                        "+e._s(e.errors.first("qualification"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Operations Branch")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.branch_id,expression:"form.branch_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-name":"branch","data-vv-validate-on":"blur",name:"branch"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"branch_id",t.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("select branch")]),e._v(" "),e._l(e.branches,function(t){return r("option",{domProps:{value:t.id}},[e._v("\n                           "+e._s(e._f("capitalize")(t.name))+"\n                        ")])})],2),e._v(" "),e.errors.has("branch")?r("small",[e._v("\n                        "+e._s(e.errors.first("branch"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Date of Appointment")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_of_appointment,expression:"form.date_of_appointment"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{"data-vv-as":"date of appointment",name:"date_of_appointment",type:"date"},domProps:{value:e.form.date_of_appointment},on:{input:function(t){t.target.composing||e.$set(e.form,"date_of_appointment",t.target.value)}}}),e._v(" "),e.errors.first("date_of_appointment")?r("small",[e._v("\n                        "+e._s(e.errors.first("date_of_appointment"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),"edit"===e.mode?r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Date of Exit")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_of_exit,expression:"form.date_of_exit"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.form.date_of_exit},on:{input:function(t){t.target.composing||e.$set(e.form,"date_of_exit",t.target.value)}}})]):e._e(),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Staff Category")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.category,expression:"form.category"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-name":"category","data-vv-validate-on":"blur",name:"qualification"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"category",t.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("select category")]),e._v(" "),e._l(e.categories,function(t){return r("option",{domProps:{value:t.name}},[e._v("\n                           "+e._s(e._f("capitalize")(t.name))+"\n                        ")])})],2),e._v(" "),e.errors.has("category")?r("small",[e._v("\n                        "+e._s(e.errors.first("category"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",{staticClass:"w-100 float-left pl-1"},[e._v("Gender")]),e._v(" "),e._l(e.gender,function(t){return r("div",{staticClass:"radio p-0 col-md-6 col-6 float-left"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.gender,expression:"form.gender"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:t,name:"gender",type:"radio"},domProps:{value:t,checked:e._q(e.form.gender,t)},on:{change:function(r){e.$set(e.form,"gender",t)}}}),e._v(" "),r("label",{attrs:{for:t}},[e._v("\n                           "+e._s(t)+"\n                        ")])])}),e._v(" "),e.errors.first("gender")?r("small",[e._v("\n                        "+e._s(e.errors.first("gender"))+"\n                     ")]):e._e()],2),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-12 float-left px-0 px-md-3"},[r("label",[e._v("Describe Location")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.address,expression:"form.address"},{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],staticClass:"form-control w-100",attrs:{name:"address",placeholder:"address",rows:"1"},domProps:{value:e.form.address},on:{input:function(t){t.target.composing||e.$set(e.form,"address",t.target.value)}}}),e._v(" "),e.errors.first("address")?r("small",[e._v("\n                        "+e._s(e.errors.first("address"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceAfter"}),e._v(" "),r("h5",[e._v("Referee Details")]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Referee 1 Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.referee_1,expression:"form.referee_1"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"referee 1 full name",name:"referee_1",placeholder:"enter full name here",type:"text"},domProps:{value:e.form.referee_1},on:{input:function(t){t.target.composing||e.$set(e.form,"referee_1",t.target.value)}}}),e._v(" "),e.errors.first("referee_1")?r("small",[e._v("\n                        "+e._s(e.errors.first("referee_1"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Referee 1 Phone Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.referee_1_phone_no,expression:"form.referee_1_phone_no"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",attrs:{"data-vv-as":"referee 1 phone number",name:"referee_1_phone_no",placeholder:"081xxxxxxxx",type:"tel"},domProps:{value:e.form.referee_1_phone_no},on:{input:function(t){t.target.composing||e.$set(e.form,"referee_1_phone_no",t.target.value)}}}),e._v(" "),e.errors.first("referee_1_phone_no")?r("small",[e._v("\n                        "+e._s(e.errors.first("referee_1_phone_no"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Referee 2 Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.referee_2,expression:"form.referee_2"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"referee 2 full name",name:"referee_2",placeholder:"enter full name here",type:"text"},domProps:{value:e.form.referee_2},on:{input:function(t){t.target.composing||e.$set(e.form,"referee_2",t.target.value)}}}),e._v(" "),e.errors.first("referee_2")?r("small",[e._v("\n                        "+e._s(e.errors.first("referee_2"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Referee 2 Phone Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.referee_2_phone_no,expression:"form.referee_2_phone_no"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",attrs:{"data-vv-as":"referee 2 phone number",name:"referee_2_phone_no",placeholder:"081xxxxxxxx",type:"tel"},domProps:{value:e.form.referee_2_phone_no},on:{input:function(t){t.target.composing||e.$set(e.form,"referee_2_phone_no",t.target.value)}}}),e._v(" "),e.errors.first("referee_2_phone_no")?r("small",[e._v("\n                        "+e._s(e.errors.first("referee_2_phone_no"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceAfter"}),e._v(" "),r("h5",[e._v("Next of Kin Details")]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Next of Kin Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.next_of_kin_name,expression:"form.next_of_kin_name"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"next of kin name",name:"next_of_kin_name",placeholder:"enter full name here",type:"text"},domProps:{value:e.form.next_of_kin_name},on:{input:function(t){t.target.composing||e.$set(e.form,"next_of_kin_name",t.target.value)}}}),e._v(" "),e.errors.first("next_of_kin_name")?r("small",[e._v("\n                        "+e._s(e.errors.first("next_of_kin_name"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Next of Kin Phone Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.next_of_kin_phone_no,expression:"form.next_of_kin_phone_no"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",attrs:{"data-vv-as":"next of kin phone number",name:"next_of_kin_phone_no",placeholder:"081xxxxxxxx",type:"tel"},domProps:{value:e.form.next_of_kin_phone_no},on:{input:function(t){t.target.composing||e.$set(e.form,"next_of_kin_phone_no",t.target.value)}}}),e._v(" "),e.errors.first("next_of_kin_phone_no")?r("small",[e._v("\n                        "+e._s(e.errors.first("next_of_kin_phone_no"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"spaceAfter"}),e._v(" "),r("h5",[e._v("First Guarantor's Details")]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_name,expression:"form.guarantor_name"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"guarantor name",name:"guarantor_name",placeholder:"enter full name here",type:"text"},domProps:{value:e.form.guarantor_name},on:{input:function(t){t.target.composing||e.$set(e.form,"guarantor_name",t.target.value)}}}),e._v(" "),e.errors.first("guarantor_name")?r("small",[e._v("\n                        "+e._s(e.errors.first("guarantor_name"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_phone_no,expression:"form.guarantor_phone_no"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",class:{"is-invalid":e.error.guarantor_phone_no},attrs:{"data-vv-as":"guarantor number",name:"guarantor_phone_no",placeholder:"081xxxxxxxx",type:"tel"},domProps:{value:e.form.guarantor_phone_no},on:{input:function(t){t.target.composing||e.$set(e.form,"guarantor_phone_no",t.target.value)}}}),e._v(" "),e.errors.first("guarantor_phone_no")?r("small",[e._v("\n                        "+e._s(e.errors.first("guarantor_phone_no"))+"\n                     ")]):e._e(),e._v(" "),e.error.guarantor_phone_no?r("small",[e._v("\n                        "+e._s(e.error.guarantor_phone_no[0])+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's relationship")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_relationship,expression:"form.guarantor_relationship"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"guarantor relationship",name:"guarantor_relationship",placeholder:"enter guarantor relationship here",type:"text"},domProps:{value:e.form.guarantor_relationship},on:{input:function(t){t.target.composing||e.$set(e.form,"guarantor_relationship",t.target.value)}}}),e._v(" "),e.errors.first("guarantor_relationship")?r("small",[e._v("\n                        "+e._s(e.errors.first("guarantor_relationship"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's address")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_address,expression:"form.guarantor_address"},{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],staticClass:"form-control w-100",attrs:{name:"guarantor_address","data-vv-as":"guarantor address",placeholder:"guarantor address",rows:"1"},domProps:{value:e.form.guarantor_address},on:{input:function(t){t.target.composing||e.$set(e.form,"guarantor_address",t.target.value)}}}),e._v(" "),e.errors.first("guarantor_address")?r("small",[e._v("\n                        "+e._s(e.errors.first("guarantor_address"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("h5",[e._v("Second Guarantor's Details")]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_name_2,expression:"form.guarantor_name_2"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"guarantor name",name:"guarantor_name_2",placeholder:"enter full name here",type:"text"},domProps:{value:e.form.guarantor_name_2},on:{input:function(t){t.target.composing||e.$set(e.form,"guarantor_name_2",t.target.value)}}}),e._v(" "),e.errors.first("guarantor_name_2")?r("small",[e._v("\n                        "+e._s(e.errors.first("guarantor_name_2"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_phone_no_2,expression:"form.guarantor_phone_no_2"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",class:{"is-invalid":e.error.guarantor_phone_no_2},attrs:{"data-vv-as":"guarantor number",name:"guarantor_phone_no_2",placeholder:"081xxxxxxxx",type:"tel"},domProps:{value:e.form.guarantor_phone_no_2},on:{input:function(t){t.target.composing||e.$set(e.form,"guarantor_phone_no_2",t.target.value)}}}),e._v(" "),e.errors.first("guarantor_phone_no_2")?r("small",[e._v("\n                        "+e._s(e.errors.first("guarantor_phone_no_2"))+"\n                     ")]):e._e(),e._v(" "),e.error.guarantor_phone_no_2?r("small",[e._v("\n                        "+e._s(e.error.guarantor_phone_no_2[0])+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's relationship")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_relationship_2,expression:"form.guarantor_relationship_2"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"guarantor relationship",name:"guarantor_relationship_2",placeholder:"enter guarantor relationship here",type:"text"},domProps:{value:e.form.guarantor_relationship_2},on:{input:function(t){t.target.composing||e.$set(e.form,"guarantor_relationship_2",t.target.value)}}}),e._v(" "),e.errors.first("guarantor_relationship_2")?r("small",[e._v("\n                        "+e._s(e.errors.first("guarantor_relationship_2"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's address")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_address_2,expression:"form.guarantor_address_2"},{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],staticClass:"form-control w-100",attrs:{name:"guarantor_address_2",placeholder:"guarantor address","data-vv-as":"guarantor address",rows:"1"},domProps:{value:e.form.guarantor_address_2},on:{input:function(t){t.target.composing||e.$set(e.form,"guarantor_address_2",t.target.value)}}}),e._v(" "),e.errors.first("guarantor_address_2")?r("small",[e._v("\n                        "+e._s(e.errors.first("guarantor_address_2"))+"\n                     ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("h5",[e._v("Upload Documents")]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("div",["edit"===e.mode&&e.$data.form.cv_url?r("div",[r("a",{staticClass:"view_cv mr-4",on:{click:function(t){e.viewCV(e.form.cv_url)}}},[e._v(e._s(e.form.cv_url.substring(3)))]),e._v("\n                           ||\n                           "),r("a",{staticClass:"view_cv ml-4",on:{click:e.editCV}},[e._v("Edit CV")])]):r("div",[r("label",{staticClass:"cv_label mr-4"},[e._v("CV")]),e._v(" "),r("image-upload",{staticClass:"cv_upload",attrs:{usage:"cv"},model:{value:e.form.cv,callback:function(t){e.$set(e.form,"cv",t)},expression:"form.cv"}})],1)])]),e._v(" "),r("hr",{staticClass:"style-two"})]),e._v(" "),r("div",{staticClass:"col-sm-12 ml-auto mr-auto mt-md-2 mt-0 px-md-3 px-1 mb-3"},[r("div",{staticClass:"clearfix d-flex justify-content-end"},["edit"===e.mode?r("button",{staticClass:"mx-3 btn btn-secondary",attrs:{type:"button"},on:{click:e.done}},[e._v("Cancel")]):e._e(),e._v(" "),r("button",{staticClass:"mx-3 btn bg-default",attrs:{disabled:e.$isProcessing,type:"submit"}},[e._v("\n                        "+e._s(e._f("capitalize")(e.mode))+" Employee "),r("i",{staticClass:"far fa-paper-plane ml-1"})])])])]):e._e()])])])])},staticRenderFns:[]}},RQTH:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.image?r("div",{staticClass:"position-relative"},[r("img",{attrs:{src:e.image}}),e._v(" "),r("button",{staticClass:"btn btn-danger upload-close m-0 px-3 py-2",on:{click:function(t){t.preventDefault(),e.$emit("close")}}},[r("i",{staticClass:"fas fa-times text-white"})])]):e._e()},staticRenderFns:[]}},SldL:function(e,t){!function(t){"use strict";var r,a=Object.prototype,o=a.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag",m="object"==typeof e,u=t.regeneratorRuntime;if(u)m&&(e.exports=u);else{(u=t.regeneratorRuntime=m?e.exports:{}).wrap=y;var c="suspendedStart",d="suspendedYield",v="executing",f="completed",p={},_={};_[i]=function(){return this};var h=Object.getPrototypeOf,g=h&&h(h(L([])));g&&g!==a&&o.call(g,i)&&(_=g);var x=N.prototype=b.prototype=Object.create(_);C.prototype=x.constructor=N,N.constructor=C,N[l]=C.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,N):(e.__proto__=N,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(x),e},u.awrap=function(e){return{__await:e}},q(P.prototype),P.prototype[s]=function(){return this},u.AsyncIterator=P,u.async=function(e,t,r,a){var o=new P(y(e,t,r,a));return u.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},q(x),x[l]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},u.values=L,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(a,o){return s.type="throw",s.arg=e,t.next=a,o&&(t.method="next",t.arg=r),!!o}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),m=o.call(i,"finallyLoc");if(l&&m){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!m)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var i=n?n.completion:{};return i.type=e,i.arg=t,n?(this.method="next",this.next=n.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var o=a.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:L(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=r),p}}}function y(e,t,r,a){var o=t&&t.prototype instanceof b?t:b,n=Object.create(o.prototype),i=new E(a||[]);return n._invoke=function(e,t,r){var a=c;return function(o,n){if(a===v)throw new Error("Generator is already running");if(a===f){if("throw"===o)throw n;return F()}for(r.method=o,r.arg=n;;){var i=r.delegate;if(i){var s=$(i,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===c)throw a=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=v;var l=w(e,t,r);if("normal"===l.type){if(a=r.done?f:d,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=f,r.method="throw",r.arg=l.arg)}}}(e,r,i),n}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function b(){}function C(){}function N(){}function q(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function P(e){var t;this._invoke=function(r,a){function n(){return new Promise(function(t,n){!function t(r,a,n,i){var s=w(e[r],e,a);if("throw"!==s.type){var l=s.arg,m=l.value;return m&&"object"==typeof m&&o.call(m,"__await")?Promise.resolve(m.__await).then(function(e){t("next",e,n,i)},function(e){t("throw",e,n,i)}):Promise.resolve(m).then(function(e){l.value=e,n(l)},i)}i(s.arg)}(r,a,t,n)})}return t=t?t.then(n,n):n()}}function $(e,t){var a=e.iterator[t.method];if(a===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,$(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=w(a,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var n=o.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,p):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(o.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=r,t.done=!0,t};return n.next=n}}return{next:F}}function F(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},"Wk+m":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=r("APzg"),n=(a=o)&&a.__esModule?a:{default:a};t.default={components:{ImagePreview:n.default},props:{value:{type:[String,File],default:null},usage:{type:[String],default:"verification"}},methods:{upload:function(e){var t=e.target.files;t&&t.length>0&&this.$emit("input",t[0])}}}},Xxa5:function(e,t,r){e.exports=r("jyFz")},Z9fC:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,".view_cv[data-v-13ccc4a7]{text-decoration:underline;font-size:13px;font-weight:700}.view_cv[data-v-13ccc4a7]:hover{text-decoration:underline!important}.cv_label[data-v-13ccc4a7]{font-size:1.6rem;line-height:36px;float:left}.cv_upload[data-v-13ccc4a7]{background-color:rgba(0,0,0,.05);border:1px dotted rgba(0,0,0,.15);border-radius:5px;padding:.8rem;float:left}",""])},jyFz:function(e,t,r){var a=function(){return this}()||Function("return this")(),o=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,n=o&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,e.exports=r("SldL"),o)a.regeneratorRuntime=n;else try{delete a.regeneratorRuntime}catch(e){a.regeneratorRuntime=void 0}},nT0B:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{preview:{type:[String,File],default:null}},data:function(){return{image:null}},created:function(){this.setPreview()},watch:{preview:"setPreview"},methods:{setPreview:function(){var e=this;if(this.preview instanceof File){var t=new FileReader;t.onload=function(t){e.image=t.target.result},t.readAsDataURL(this.preview)}else"string"==typeof this.preview?this.image="https://s3.eu-west-2.amazonaws.com/altara-one/"+this.preview:this.image=null}}}},pEc7:function(e,t,r){var a=r("VU/8")(r("6Gnn"),r("PIaQ"),!1,function(e){r("vuq5")},"data-v-13ccc4a7",null);e.exports=a.exports},qqQK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t,r){var n=t||new FormData,i=void 0;for(var s in e)if(e.hasOwnProperty(s))if(i=r?r+"["+s+"]":s,e[s]instanceof Array)for(var l=0;l<e[s].length;l++)o(e[s][l],n,s+"["+l+"]");else"object"!==a(e[s])||e[s]instanceof File?n.append(i,e[s]):o(e[s],n,s);return n}t.toMulipartedForm=function(e,t){if("edit"===t&&"string"==typeof e.image){var r=JSON.parse(JSON.stringify(e));return delete r.image,r}return o(e)},t.objectToFormData=o},vuq5:function(e,t,r){var a=r("Z9fC");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("rjj0")("4b81182e",a,!0,{})},xosg:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"image"},[e.value&&"verification"===e.usage?r("image-preview",{attrs:{preview:e.value},on:{close:function(t){e.$emit("input",null)}}}):r("div",[r("input",{attrs:{type:"file",accept:"images/*"},on:{change:e.upload}})])],1)},staticRenderFns:[]}}});