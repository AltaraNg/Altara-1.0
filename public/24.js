webpackJsonp([24],{"57Cy":function(t,a,s){var e=s("VU/8")(s("N2ek"),s("BOQz"),!1,null,null,null);t.exports=e.exports},BOQz:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"pt-md-3 pt-2 attendance attendance-view",attrs:{id:"index"}},[s("div",{staticClass:"mt-5 attendance-head"},[s("div",{staticClass:"mb-5 row align-items-center"},[s("div",{staticClass:"col-12 title-con"},[s("span",{staticClass:"title"},[t._v("Caution Register")]),t._v(" "),s("div",{staticClass:"row justify-content-end"},[s("router-link",{staticClass:"text-link mt-3",attrs:{to:"caution/create"}},[t._v("click here to send caution a staff!")])],1)])])]),t._v(" "),s("div",{staticClass:"mt-5 row attendance-head mb-4"},t._l(t.columns,function(a){return s("div",{class:"col-"+a.col},[s("div",{staticClass:"row"},[s("div",{staticClass:"light-heading"},[s("span",{staticClass:"d-none d-sm-inline"}),t._v(" "+t._s(a.name))])])])})),t._v(" "),s("div",{staticClass:"mt-1 attendance-body"},[t.show?s("div",[t._l(t.cautions.data,function(a,e){return s("div",{staticClass:"mb-3 px-0 row align-items-center attendance-item"},[s("div",{staticClass:"col-12 col-xs-4 col-md-4 col-lg-4"},[s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"ml-5 mr-3 sm-hide"},[s("span",{staticClass:"user mx-auto"},[t._v("\n                                        "+t._s(e+1+10*(t.cautions.current_page-1))+"\n                                    ")])]),t._v(" "),s("div",{staticClass:"col"},[s("span",{staticClass:"user-name"},[t._v(t._s(a.user.full_name))])])])]),t._v(" "),s("div",{staticClass:"col-12 col-xs-3 col-md-3 col-lg-3"},[s("div",{staticClass:"row"},[s("span",[t._v(t._s(a.issuer.full_name))])])]),t._v(" "),s("div",{staticClass:"col-12 col-xs-2 col-md-2 col-lg-2 sm-hide"},[s("div",{staticClass:"row"},[s("span",[t._v(t._s(a.reason_min))])])]),t._v(" "),s("div",{staticClass:"col-6 col-xs-2 col-md-2 col-lg-2 pr-3 py-4 py-sm-0 px-sm-0 px-lg-4 sm-hide"},[s("div",{staticClass:"row"},[s("span",[t._v(t._s(a.penalty_min))])])]),t._v(" "),s("div",{staticClass:"col-6 col-xs-1 col-md-1 col-lg-1 pl-3 py-4 py-sm-0"},[s("div",{staticClass:"row"},[s("span",[t._v("\n                                    "+t._s(a.date_text)+"\n                                ")])])])])}),t._v(" "),s("div",{staticClass:"mb-5 px-0 row align-items-center"},[s("div",{staticClass:"w-100 mb-4 mt-5 mx-0 hr"}),t._v(" "),s("div",{staticClass:"clearfix w-100 mt-4"},[s("div",{staticClass:"float-left"},[s("strong",{staticClass:"light-heading float-left"},[t._v("\n             Displaying: "+t._s(t.cautions.from)+" - "+t._s(t.cautions.to)+" of "+t._s(t.cautions.total)+"\n         ")])]),t._v(" "),s("nav",{staticClass:"float-right",attrs:{"aria-label":"Page navigation example"}},[s("ul",{staticClass:"pagination pagination-lg float-left"},[s("li",{staticClass:"page-item",class:t.cautions.first_page_url?"":"disabled"},[s("router-link",{staticClass:"page-link",attrs:{to:{query:{page:1}}}},[t._v("\n                    First\n                ")])],1),t._v(" "),s("li",{staticClass:"page-item",class:t.cautions.prev_page_url?"":"disabled"},[s("router-link",{staticClass:"page-link",attrs:{to:{query:{page:t.cautions.current_page-1}}}},[t._v("\n                    Previous\n                ")])],1),t._v(" "),s("li",{staticClass:"page-item"},[s("span",{staticClass:"page-link"},[t._v("Current Page: "+t._s(t.cautions.current_page))])]),t._v(" "),s("li",{staticClass:"page-item",class:t.cautions.next_page_url?"":"disabled"},[s("router-link",{staticClass:"page-link",attrs:{to:{query:{page:t.cautions.current_page+1}}}},[t._v("\n                    Next\n                ")])],1),t._v(" "),s("li",{staticClass:"page-item",class:t.cautions.last_page_url?"":"disabled"},[s("router-link",{staticClass:"page-link",attrs:{to:{query:{page:t.cautions.last_page}}}},[t._v("\n                    Last\n                ")])],1)])])])])],2):s("div",{staticClass:"row attendance-item p-5 mb-5"},[s("span",{staticClass:"no-attendance"},[t._v("No cautions has been issued!")])])])])])},staticRenderFns:[]}},N2ek:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=l(s("I3G/")),i=s("uD8u"),n=l(s("TOoT"));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){return"/caution"+(t.query.page?"?page="+t.query.page:"")};a.default={data:function(){return{show:!1,cautions:{},columns:[{name:"Employee",col:4},{name:"Issued by",col:3},{name:"Reason",col:2},{name:"Penalty",col:2},{name:"Date",col:1}]}},beforeRouteEnter:function(t,a,s){(0,i.get)("/api"+c(t)).then(function(t){s(function(a){return a.prepareForm(t.data)})}).catch(function(t){s(function(a){return a.handleErr(t)})})},beforeRouteUpdate:function(t,a,s){var e=this;this.show=!1,this.$LIPS(!0),(0,i.get)("/api"+c(t)).then(function(t){e.prepareForm(t.data),s()}).catch(function(t){e.handleErr(t),s()})},methods:{fetch:function(){var t=this;this.$validator.validateAll().then(function(a){a?t.$network()?t.$router.push("/hrm"+c(t.query)):t.$networkErr():t.$networkErr("form")})},prepareForm:function(t){t.cautions.data.length<1&&this.$router.push({query:{page:t.cautions.last_page}}),t&&(e.default.set(this.$data,"cautions",t.cautions),this.show=!0),this.$LIPS(!1)},handleErr:function(t){n.default.setError("Error Fetching Attendance")}}}}});