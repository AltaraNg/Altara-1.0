webpackJsonp([9],{"6Gnn":function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=v(r("Xxa5")),o=r("m2tk"),n=r("ic49"),s=v(r("K23+")),i=r("p/p5"),l=r("hyG2"),m=v(r("KUZS"));function v(e){return e&&e.__esModule?e:{default:e}}function u(e){return{create:"user/create",edit:"user/"+e.params.id+"/edit"}[e.meta.mode]}a.default={components:{ImageUpload:m.default},data:function(){return{imgForm:{cv:null},mode:null,show:!1,store:"/api/user",method:"POST",form:{},error:{},roles:{},branches:{},countries:["nigeria"],gender:["male","female"],categories:{},statuses:["married","single","divorced","complicated"],qualifications:["NCE","HND","OND","bachelors","masters","doctorate"],transfer:!1}},beforeRouteEnter:function(e,a,r){(0,i.get)("/api/"+u(e)).then(function(e){var a=e.data;return r(function(e){return e.prepareForm(a)})})},beforeRouteUpdate:function(e,a,r){var t=this;this.show=!1,(0,i.get)(u(e)).then(function(e){var a=e.data;t.prepareForm(a),r()})},methods:{done:function(){this.$router.push("/hrm/employee")},prepareForm:function(){var e,a=(e=t.default.mark(function e(a){return t.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$prepareStates();case 2:this.mode=this.$route.meta.mode,this.error={},this.errors.clear(),this.form=a.form,this.roles=a.roles,this.branches=a.branches,this.categories=a.categories,"edit"===this.$route.meta.mode&&(this.store="/api/user/"+this.$route.params.id,this.method="PUT"),this.show=!0;case 11:case"end":return e.stop()}},e,this)}),function(){var a=e.apply(this,arguments);return new Promise(function(e,r){return function t(o,n){try{var s=a[o](n),i=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(i).then(function(e){t("next",e)},function(e){t("throw",e)});e(i)}("next")})});return function(e){return a.apply(this,arguments)}}(),onSave:function(){var e=this;this.$validator.validateAll().then(function(a){a?e.$network()?(e.$LIPS(!0),e.error={},e.form.transfer=e.transfer,(0,i.byMethod)(e.method,e.store,e.form).then(function(a){var r=a.data;e.imgForm.cv&&e.onSaveCV();var t=r.staff_id,i=r.password,l=r.message,m=r.success,v=r.transfer,u=e.mode;if(m||v){var d=m?"Welcome to Altara credit. Please secure your login\n                                    details. Staff ID: "+t+", password: "+i:"Transfer Successful, your new staff ID is "+t+" ";new o.Message(d,e.form.phone_number).send()}(0,n.log)("Staff "+u,String(t)),s.default.setSuccess("edit"===u?l:"Staff "+u+"d with ID "+t+".\n                                    Login details has been sent via SMS to the employee!",2e4),e.done()}).catch(function(a){422===(a=a.response).status&&(e.error=a.data.errors?a.data.errors:a.data,e.$networkErr("unique"))}).finally(function(){e.$scrollToTop(),e.$LIPS(!1)})):e.$networkErr():e.$networkErr("form")})},onSaveCV:function(){var e=(0,l.toMulipartedForm)(this.imgForm,"edit");(0,i.post)("/api/user/"+this.$route.params.id+"/cv",e).then(function(e){e.data.cv_saved&&s.default.setSuccess("CV Successfully updated!")})},viewCV:function(e){window.open("https://s3.eu-west-2.amazonaws.com/altara-one/"+e,"_blank")}}}},APzg:function(e,a,r){var t=r("VU/8")(r("nT0B"),r("RQTH"),!1,null,null,null);e.exports=t.exports},KUZS:function(e,a,r){var t=r("VU/8")(r("Wk+m"),r("xosg"),!1,null,null,null);e.exports=t.exports},RQTH:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,r=e._self._c||a;return e.image?r("div",{staticClass:"position-relative"},[r("img",{attrs:{src:e.image}}),e._v(" "),r("button",{staticClass:"btn btn-danger upload-close m-0 px-3 py-2",on:{click:function(a){a.preventDefault(),e.$emit("close")}}},[r("i",{staticClass:"fas fa-times text-white"})])]):e._e()},staticRenderFns:[]}},UCWE:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"pt-md-3 pt-2",attrs:{id:"employeeRegister"}},[r("div",{staticClass:"card"},[r("ul",{staticClass:"nav nav-tabs justify-content-center bg-default"},[r("h6",[e._v(e._s(e.mode)+" Staff")])]),e._v(" "),r("div",{staticClass:"card-body pl-4 pr-4"},[e.show?r("form",{on:{submit:function(a){return a.preventDefault(),e.onSave(a)}}},[r("div",{staticClass:"clearfix"},[r("h5",[e._v("\n                            Employee Personal Details\n                            "),"edit"===e.mode?r("span",{staticClass:"float-right"},[r("a",{staticClass:"text-link mr-5 float-left",attrs:{href:"javascript:"},on:{click:function(a){e.transfer=!e.transfer}}},[e._v("\n                                    click here to activate/deactivate transfer!\n                                ")]),e._v("\n                                "+e._s("Transfer "+(e.transfer?"ON":"OFF"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.full_name,expression:"form.full_name"},{name:"validate",rawName:"v-validate",value:"required|max:100",expression:"'required|max:100'"}],staticClass:"form-control",attrs:{name:"name",placeholder:"employee full name",type:"text"},domProps:{value:e.form.full_name},on:{input:function(a){a.target.composing||e.$set(e.form,"full_name",a.target.value)}}}),e._v(" "),e.errors.first("name")?r("small",[e._v(e._s(e.errors.first("name")))]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Phone Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phone_number,expression:"form.phone_number"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",class:{"is-invalid":e.error.phone_number},attrs:{"data-vv-as":"phone number",name:"phone_number",placeholder:"081xxxxxxxx",type:"tel"},domProps:{value:e.form.phone_number},on:{input:function(a){a.target.composing||e.$set(e.form,"phone_number",a.target.value)}}}),e._v(" "),e.errors.first("phone_number")?r("small",[e._v("\n                                "+e._s(e.errors.first("phone_number"))+"\n                            ")]):e._e(),e._v(" "),e.error.phone_number?r("small",[e._v("\n                                "+e._s(e.error.phone_number[0])+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Marital Status")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.status,expression:"form.status"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-validate-on":"blur",name:"status"},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"status",a.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("select status")]),e._v(" "),e._l(e.statuses,function(a){return r("option",{domProps:{value:a}},[e._v("\n                                    "+e._s(e._f("capitalize")(a))+"\n                                ")])})],2),e._v(" "),e.errors.first("status")?r("small",[e._v("\n                                "+e._s(e.errors.first("status"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Nationality")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.nationality,expression:"form.nationality"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-validate-on":"blur",name:"nationality"},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"nationality",a.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("select nationality")]),e._v(" "),e._l(e.countries,function(a){return r("option",{domProps:{value:a}},[e._v("\n                                    "+e._s(e._f("capitalize")(a))+"\n                                ")])})],2),e._v(" "),e.errors.first("nationality")?r("small",[e._v("\n                                "+e._s(e.errors.first("nationality"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween  mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Date of Birth")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_of_birth,expression:"form.date_of_birth"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{"data-vv-as":"date of birth",name:"date_of_birth",type:"date"},domProps:{value:e.form.date_of_birth},on:{input:function(a){a.target.composing||e.$set(e.form,"date_of_birth",a.target.value)}}}),e._v(" "),e.errors.first("date_of_birth")?r("small",[e._v(e._s(e.errors.first("date_of_birth")))]):e._e(),e._v(" "),e.error.date_of_birth?r("small",[e._v(e._s(e.error.date_of_birth[0]))]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Email")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"},{name:"validate",rawName:"v-validate",value:"required|email|min:1",expression:"'required|email|min:1'"}],staticClass:"form-control",class:{"is-invalid":e.error.email},attrs:{name:"email",placeholder:"name@example.com",type:"email"},domProps:{value:e.form.email},on:{input:function(a){a.target.composing||e.$set(e.form,"email",a.target.value)}}}),e._v(" "),e.errors.first("email")?r("small",[e._v("\n                                "+e._s(e.errors.first("email"))+"\n                            ")]):e._e(),e._v(" "),e.error.email?r("small",[e._v("\n                                "+e._s(e.error.email[0])+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween  mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Role in the company")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.role_id,expression:"form.role_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-name":"role","data-vv-validate-on":"blur",name:"role",disabled:"edit"===e.mode&&!e.transfer},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"role_id",a.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("select role")]),e._v(" "),e._l(e.roles,function(a){var t=a.name,o=a.id;return r("option",{domProps:{value:o}},[e._v("\n                                    "+e._s(e._f("capitalize")(t))+"\n                                ")])})],2),e._v(" "),e.errors.first("role")?r("small",[e._v("\n                                "+e._s(e.errors.first("role"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Staff Category")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.category,expression:"form.category"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-name":"category","data-vv-validate-on":"blur",name:"qualification",disabled:"edit"===e.mode&&!e.transfer},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"category",a.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("select category")]),e._v(" "),e._l(e.categories,function(a){var t=a.name;return r("option",{domProps:{value:t}},[e._v("\n                                    "+e._s(e._f("capitalize")(t))+"\n                                ")])})],2),e._v(" "),e.errors.has("category")?r("small",[e._v("\n                                "+e._s(e.errors.first("category"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Operations Branch")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.branch_id,expression:"form.branch_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-name":"branch","data-vv-validate-on":"blur",name:"branch"},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"branch_id",a.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("select branch")]),e._v(" "),e._l(e.branches,function(a){var t=a.name,o=a.id;return r("option",{domProps:{value:o}},[e._v("\n                                    "+e._s(e._f("capitalize")(t))+"\n                                ")])})],2),e._v(" "),e.errors.has("branch")?r("small",[e._v("\n                                "+e._s(e.errors.first("branch"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Date of Appointment")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_of_appointment,expression:"form.date_of_appointment"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{"data-vv-as":"date of appointment",name:"date_of_appointment",type:"date"},domProps:{value:e.form.date_of_appointment},on:{input:function(a){a.target.composing||e.$set(e.form,"date_of_appointment",a.target.value)}}}),e._v(" "),e.errors.first("date_of_appointment")?r("small",[e._v("\n                                "+e._s(e.errors.first("date_of_appointment"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),"edit"===e.mode?r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Date of Exit")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_of_exit,expression:"form.date_of_exit"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.form.date_of_exit},on:{input:function(a){a.target.composing||e.$set(e.form,"date_of_exit",a.target.value)}}})]):e._e(),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Highest Qualification")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.highest_qualification,expression:"form.highest_qualification"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select w-100",attrs:{"data-vv-name":"qualification","data-vv-validate-on":"blur",name:"qualification"},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"highest_qualification",a.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:""}},[e._v("select qualification")]),e._v(" "),e._l(e.qualifications,function(a){return r("option",{domProps:{value:a}},[e._v("\n                                    "+e._s(e._f("capitalize")(a))+"\n                                ")])})],2),e._v(" "),e.errors.has("qualification")?r("small",[e._v("\n                                "+e._s(e.errors.first("qualification"))+"\n                            ")]):e._e()]),e._v(" "),"edit"===e.mode?r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}):e._e(),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",{staticClass:"w-100 float-left pl-1"},[e._v("Gender")]),e._v(" "),e._l(e.gender,function(a){return r("div",{staticClass:"radio p-0 col-md-6 col-6 float-left"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.gender,expression:"form.gender"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:a,name:"gender",type:"radio"},domProps:{value:a,checked:e._q(e.form.gender,a)},on:{change:function(r){e.$set(e.form,"gender",a)}}}),e._v(" "),r("label",{attrs:{for:a}},[e._v("\n                                    "+e._s(a)+"\n                                ")])])}),e._v(" "),e.errors.first("gender")?r("small",[e._v("\n                                "+e._s(e.errors.first("gender"))+"\n                            ")]):e._e()],2),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-12 float-left px-0 px-md-3"},[r("label",[e._v("Describe Location")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.address,expression:"form.address"},{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],staticClass:"form-control w-100",attrs:{name:"address",placeholder:"address",rows:"1"},domProps:{value:e.form.address},on:{input:function(a){a.target.composing||e.$set(e.form,"address",a.target.value)}}}),e._v(" "),e.errors.first("address")?r("small",[e._v("\n                                "+e._s(e.errors.first("address"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceAfter"}),e._v(" "),r("h5",[e._v("Referee Details")]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Referee 1 Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.referee_1,expression:"form.referee_1"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"referee 1 full name",name:"referee_1",placeholder:"enter full name here",type:"text"},domProps:{value:e.form.referee_1},on:{input:function(a){a.target.composing||e.$set(e.form,"referee_1",a.target.value)}}}),e._v(" "),e.errors.first("referee_1")?r("small",[e._v("\n                                "+e._s(e.errors.first("referee_1"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Referee 1 Phone Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.referee_1_phone_no,expression:"form.referee_1_phone_no"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",attrs:{"data-vv-as":"referee 1 phone number",name:"referee_1_phone_no",placeholder:"081xxxxxxxx",type:"tel"},domProps:{value:e.form.referee_1_phone_no},on:{input:function(a){a.target.composing||e.$set(e.form,"referee_1_phone_no",a.target.value)}}}),e._v(" "),e.errors.first("referee_1_phone_no")?r("small",[e._v("\n                                "+e._s(e.errors.first("referee_1_phone_no"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Referee 2 Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.referee_2,expression:"form.referee_2"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"referee 2 full name",name:"referee_2",placeholder:"enter full name here",type:"text"},domProps:{value:e.form.referee_2},on:{input:function(a){a.target.composing||e.$set(e.form,"referee_2",a.target.value)}}}),e._v(" "),e.errors.first("referee_2")?r("small",[e._v("\n                                "+e._s(e.errors.first("referee_2"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Referee 2 Phone Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.referee_2_phone_no,expression:"form.referee_2_phone_no"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",attrs:{"data-vv-as":"referee 2 phone number",name:"referee_2_phone_no",placeholder:"081xxxxxxxx",type:"tel"},domProps:{value:e.form.referee_2_phone_no},on:{input:function(a){a.target.composing||e.$set(e.form,"referee_2_phone_no",a.target.value)}}}),e._v(" "),e.errors.first("referee_2_phone_no")?r("small",[e._v("\n                                "+e._s(e.errors.first("referee_2_phone_no"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceAfter"}),e._v(" "),r("h5",[e._v("Next of Kin Details")]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Next of Kin Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.next_of_kin_name,expression:"form.next_of_kin_name"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"next of kin name",name:"next_of_kin_name",placeholder:"enter full name here",type:"text"},domProps:{value:e.form.next_of_kin_name},on:{input:function(a){a.target.composing||e.$set(e.form,"next_of_kin_name",a.target.value)}}}),e._v(" "),e.errors.first("next_of_kin_name")?r("small",[e._v("\n                                "+e._s(e.errors.first("next_of_kin_name"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Next of Kin Phone Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.next_of_kin_phone_no,expression:"form.next_of_kin_phone_no"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",attrs:{"data-vv-as":"next of kin phone number",name:"next_of_kin_phone_no",placeholder:"081xxxxxxxx",type:"tel"},domProps:{value:e.form.next_of_kin_phone_no},on:{input:function(a){a.target.composing||e.$set(e.form,"next_of_kin_phone_no",a.target.value)}}}),e._v(" "),e.errors.first("next_of_kin_phone_no")?r("small",[e._v("\n                                "+e._s(e.errors.first("next_of_kin_phone_no"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"spaceAfter"}),e._v(" "),r("h5",[e._v("First Guarantor's Details")]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_name,expression:"form.guarantor_name"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"guarantor name",name:"guarantor_name",placeholder:"enter full name here",type:"text"},domProps:{value:e.form.guarantor_name},on:{input:function(a){a.target.composing||e.$set(e.form,"guarantor_name",a.target.value)}}}),e._v(" "),e.errors.first("guarantor_name")?r("small",[e._v("\n                                "+e._s(e.errors.first("guarantor_name"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_phone_no,expression:"form.guarantor_phone_no"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",class:{"is-invalid":e.error.guarantor_phone_no},attrs:{"data-vv-as":"guarantor number",name:"guarantor_phone_no",placeholder:"081xxxxxxxx",type:"tel"},domProps:{value:e.form.guarantor_phone_no},on:{input:function(a){a.target.composing||e.$set(e.form,"guarantor_phone_no",a.target.value)}}}),e._v(" "),e.errors.first("guarantor_phone_no")?r("small",[e._v("\n                                "+e._s(e.errors.first("guarantor_phone_no"))+"\n                            ")]):e._e(),e._v(" "),e.error.guarantor_phone_no?r("small",[e._v("\n                                "+e._s(e.error.guarantor_phone_no[0])+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's relationship")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_relationship,expression:"form.guarantor_relationship"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"guarantor relationship",name:"guarantor_relationship",placeholder:"enter guarantor relationship here",type:"text"},domProps:{value:e.form.guarantor_relationship},on:{input:function(a){a.target.composing||e.$set(e.form,"guarantor_relationship",a.target.value)}}}),e._v(" "),e.errors.first("guarantor_relationship")?r("small",[e._v("\n                                "+e._s(e.errors.first("guarantor_relationship"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's address")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_address,expression:"form.guarantor_address"},{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],staticClass:"form-control w-100",attrs:{"data-vv-as":"guarantor address",name:"guarantor_address",placeholder:"guarantor address",rows:"1"},domProps:{value:e.form.guarantor_address},on:{input:function(a){a.target.composing||e.$set(e.form,"guarantor_address",a.target.value)}}}),e._v(" "),e.errors.first("guarantor_address")?r("small",[e._v("\n                                "+e._s(e.errors.first("guarantor_address"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("h5",[e._v("Second Guarantor's Details")]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_name_2,expression:"form.guarantor_name_2"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"guarantor name",name:"guarantor_name_2",placeholder:"enter full name here",type:"text"},domProps:{value:e.form.guarantor_name_2},on:{input:function(a){a.target.composing||e.$set(e.form,"guarantor_name_2",a.target.value)}}}),e._v(" "),e.errors.first("guarantor_name_2")?r("small",[e._v("\n                                "+e._s(e.errors.first("guarantor_name_2"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_phone_no_2,expression:"form.guarantor_phone_no_2"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11|min:11",expression:"'required|numeric|max:11|min:11'"}],staticClass:"form-control",class:{"is-invalid":e.error.guarantor_phone_no_2},attrs:{"data-vv-as":"guarantor number",name:"guarantor_phone_no_2",placeholder:"081xxxxxxxx",type:"tel"},domProps:{value:e.form.guarantor_phone_no_2},on:{input:function(a){a.target.composing||e.$set(e.form,"guarantor_phone_no_2",a.target.value)}}}),e._v(" "),e.errors.first("guarantor_phone_no_2")?r("small",[e._v("\n                                "+e._s(e.errors.first("guarantor_phone_no_2"))+"\n                            ")]):e._e(),e._v(" "),e.error.guarantor_phone_no_2?r("small",[e._v("\n                                "+e._s(e.error.guarantor_phone_no_2[0])+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's relationship")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_relationship_2,expression:"form.guarantor_relationship_2"},{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"form-control",attrs:{"data-vv-as":"guarantor relationship",name:"guarantor_relationship_2",placeholder:"enter guarantor relationship here",type:"text"},domProps:{value:e.form.guarantor_relationship_2},on:{input:function(a){a.target.composing||e.$set(e.form,"guarantor_relationship_2",a.target.value)}}}),e._v(" "),e.errors.first("guarantor_relationship_2")?r("small",[e._v("\n                                "+e._s(e.errors.first("guarantor_relationship_2"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("label",[e._v("Guarantor's address")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.guarantor_address_2,expression:"form.guarantor_address_2"},{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],staticClass:"form-control w-100",attrs:{"data-vv-as":"guarantor address",name:"guarantor_address_2",placeholder:"guarantor address",rows:"1"},domProps:{value:e.form.guarantor_address_2},on:{input:function(a){a.target.composing||e.$set(e.form,"guarantor_address_2",a.target.value)}}}),e._v(" "),e.errors.first("guarantor_address_2")?r("small",[e._v("\n                                "+e._s(e.errors.first("guarantor_address_2"))+"\n                            ")]):e._e()]),e._v(" "),r("div",{staticClass:"spaceBetween mb-md-2 mb-0"}),e._v(" "),r("h5",[e._v("Upload Documents")]),e._v(" "),r("div",{staticClass:"form-group col-md-6 col-12 float-left px-0 px-md-3"},[r("div",["edit"===e.mode&&e.$data.form.cv_url?r("div",[r("a",{staticClass:"view_cv mr-4",on:{click:function(a){e.viewCV(e.form.cv_url)}}},[e._v(e._s(e.form.cv_url.substring(3)))]),e._v("\n                                    ||\n                                    "),r("a",{staticClass:"view_cv ml-4",on:{click:function(a){e.form.cv_url=""}}},[e._v("Edit CV")])]):r("div",[r("label",{staticClass:"cv_label mr-4"},[e._v("CV")]),e._v(" "),r("image-upload",{staticClass:"cv_upload",attrs:{usage:"cv"},model:{value:e.imgForm.cv,callback:function(a){e.$set(e.imgForm,"cv",a)},expression:"imgForm.cv"}})],1)])]),e._v(" "),r("hr",{staticClass:"style-two"})]),e._v(" "),r("div",{staticClass:"col-sm-12 ml-auto mr-auto mt-md-2 mt-0 px-md-3 px-1 mb-3"},[r("div",{staticClass:"clearfix d-flex justify-content-end"},["edit"===e.mode?r("button",{staticClass:"mx-3 btn btn-secondary",attrs:{type:"button"},on:{click:e.done}},[e._v("Cancel\n                            ")]):e._e(),e._v(" "),r("button",{staticClass:"mx-3 btn bg-default",attrs:{disabled:e.$isProcessing,type:"submit"}},[e._v("\n                                "+e._s(e._f("capitalize")(e.mode))+" Employee "),r("i",{staticClass:"far fa-paper-plane ml-1"})])])])]):e._e()])])])])},staticRenderFns:[]}},"Wk+m":function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t,o=r("APzg"),n=(t=o)&&t.__esModule?t:{default:t};a.default={components:{ImagePreview:n.default},props:{value:{type:[String,File],default:null},usage:{type:[String],default:"verification"}},methods:{upload:function(e){var a=e.target.files;a&&a.length>0&&this.$emit("input",a[0])}}}},hyG2:function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,a,r){var n=a||new FormData,s=void 0;for(var i in e)if(e.hasOwnProperty(i))if(s=r?r+"["+i+"]":i,e[i]instanceof Array)for(var l=0;l<e[i].length;l++)o(e[i][l],n,i+"["+l+"]");else"object"!==t(e[i])||e[i]instanceof File?n.append(s,e[i]):o(e[i],n,i);return n}a.toMulipartedForm=function(e,a){if("edit"===a&&"string"==typeof e.image){var r=JSON.parse(JSON.stringify(e));return delete r.image,r}return o(e)},a.objectToFormData=o},nT0B:function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={props:{preview:{type:[String,File],default:null}},data:function(){return{image:null}},created:function(){this.setPreview()},watch:{preview:"setPreview"},methods:{setPreview:function(){var e=this;if(this.preview instanceof File){var a=new FileReader;a.onload=function(a){e.image=a.target.result},a.readAsDataURL(this.preview)}else"string"==typeof this.preview?this.image="https://s3.eu-west-2.amazonaws.com/altara-one/"+this.preview:this.image=null}}}},pEc7:function(e,a,r){var t=r("VU/8")(r("6Gnn"),r("UCWE"),!1,null,null,null);e.exports=t.exports},xosg:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"image"},[e.value&&"verification"===e.usage?r("image-preview",{attrs:{preview:e.value},on:{close:function(a){e.$emit("input",null)}}}):r("div",[r("input",{attrs:{type:"file",accept:"images/*"},on:{change:e.upload}})])],1)},staticRenderFns:[]}}});